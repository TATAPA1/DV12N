<?xml version="1.1" encoding="UTF-8"?>
<metadata name="getInventoryTransactions" path="/users/composite/adm_tatapa1/examples/getInventoryTransactions" type="PROCEDURE" subtype="XQUERY_TRANSFORM_PROCEDURE" changeToken="0">
  <parameters>
    <parameter name="InventoryTransactions" direction="OUT" nullable="true">
      <datatype name="InventoryTransactions" namespace="http://www.compositesw.com/services/webservices/system/admin/resource" referenceDefinitionSet="/users/composite/adm_tatapa1/examples/InventoryTransactions" referenceType="{http://www.compositesw.com/services/webservices/system/admin/resource}InventoryTransactions" subType="ELEMENT_DECL" type="XML" contentConstraint="SEQUENCE" schemaConstraint="ANY" componentType="ELEMENT" componentName="{http://www.compositesw.com/services/webservices/system/admin/resource}InventoryTransactions">
        <schemaDatatype>
          <datatype name="InventoryTransactions" namespace="http://www.compositesw.com/services/webservices/system/admin/resource" superTypeName="InventoryTransactions" superTypeNamespace="http://www.compositesw.com/services/webservices/system/admin/resource" subType="ELEMENT_DECL" type="TREE" refId="1">
            <element name="Transaction" namespace="http://www.compositesw.com/services/webservices/system/admin/resource" maxOccurs="2147483647" minOccurs="0">
              <datatype superTypeName="anyType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" subType="COMPLEX_TYPE" type="TREE" refId="2">
                <element name="TransactionID" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                  <datatype name="int" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="long" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
                </element>
                <element name="TransactionDate" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                  <datatype name="date" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="DATE"/>
                </element>
                <element name="TransactionDescription" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                  <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                </element>
                <element name="PurchaseOrder" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                  <datatype superTypeName="anyType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" subType="COMPLEX_TYPE" type="TREE" refId="3">
                    <element name="PurchaseOrderID" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                      <datatype name="int" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="long" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
                    </element>
                    <element name="PONumber" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                      <datatype name="int" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="long" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
                    </element>
                    <element name="PurchaseOrderDescription" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                      <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                    </element>
                    <element name="Supplier" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                      <datatype superTypeName="anyType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" subType="COMPLEX_TYPE" type="TREE" refId="4">
                        <element name="SupplierID" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                          <datatype name="int" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="long" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
                        </element>
                        <element name="SupplierName" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                          <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                        </element>
                      </datatype>
                    </element>
                  </datatype>
                </element>
                <element name="Product" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                  <datatype superTypeName="anyType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" subType="COMPLEX_TYPE" type="TREE" refId="5">
                    <element name="ProductID" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                      <datatype name="int" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="long" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="INTEGER" minValue="-2147483648" maxValue="2147483647"/>
                    </element>
                    <element name="ProductName" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                      <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                    </element>
                    <element name="ProductDescription" namespace="http://www.compositesw.com/services/webservices/system/admin/resource">
                      <datatype name="string" namespace="http://www.w3.org/2001/XMLSchema" superTypeName="anySimpleType" superTypeNamespace="http://www.w3.org/2001/XMLSchema" type="STRING" maxLength="2147483647"/>
                    </element>
                  </datatype>
                </element>
              </datatype>
            </element>
          </datatype>
        </schemaDatatype>
      </datatype>
      <attribute name="Customized" type="STRING">datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed</attribute>
    </parameter>
  </parameters>
  <security>
    <owner user="admin" domain="composite"/>
    <privilege group="all" domain="composite" privileges="READ EXECUTE"/>
    <privilege user="adm_tatapa1" domain="composite" privileges="READ WRITE EXECUTE"/>
  </security>
  <dependency target="/users/composite/adm_tatapa1/examples/InventoryTransactions" type="DEFINITION_SET">
    <datatype name="Tree" type="TREE" refId="1"></datatype>
  </dependency>
  <dependency target="/users/composite/adm_tatapa1/examples/LookupProduct" type="PROCEDURE">
    <datatype name="LookupProduct" type="TREE" refId="1"></datatype>
  </dependency>
  <dependency target="/users/composite/adm_tatapa1/examples/ds_inventory/tutorial/inventorytransactions" type="TABLE">
    <datatype name="inventorytransactions" type="TREE" refId="1"></datatype>
  </dependency>
  <dependency target="/users/composite/adm_tatapa1/examples/ds_inventory/tutorial/purchaseorders" type="TABLE">
    <datatype name="purchaseorders" type="TREE" refId="1"></datatype>
  </dependency>
  <dependency target="/users/composite/adm_tatapa1/examples/ds_inventory/tutorial/suppliers" type="TABLE">
    <datatype name="suppliers" type="TREE" refId="1"></datatype>
  </dependency>
  <attribute name="creationDate" type="LONG">0</attribute>
  <attribute name="creatorUserDomain" type="STRING"/>
  <attribute name="creatorUserName" type="STRING"/>
  <attribute name="explicitly.designed" type="BOOLEAN">true</attribute>
  <attribute name="lastModifiedDate" type="LONG">1401221689492</attribute>
  <attribute name="lastModifiedUserDomain" type="STRING">composite</attribute>
  <attribute name="lastModifiedUserName" type="STRING">admin</attribute>
  <attribute name="license" type="NULL"/>
  <attribute name="p:0:Customized" type="STRING">datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed;datatype.changed</attribute>
  <attribute name="transformModel" type="NULL"/>
  <attribute name="xquery" type="STRING">declare copy-namespaces no-preserve,inherit;
declare namespace ns1=&quot;http://www.compositesw.com/services/webservices/system/admin/resource&quot;;
declare namespace ns2=&quot;http://www.w3.org/2001/XMLSchema&quot;;

let $nodes := (
  element ns1:InventoryTransactions {
    let $query := &quot;select * from /users/composite/adm_tatapa1/examples/ds_inventory/tutorial/inventorytransactions&quot;
    for $inv in composite:executeQuery($query)//result
    where $inv/transactionid &lt; 22
    order by $inv/transactionid ascending
    return
    element ns1:Transaction {
      element ns1:TransactionID {$inv/transactionid/text()},
      element ns1:TransactionDate {$inv/transactiondate/text()},
      element ns1:TransactionDescription {$inv/transactiondescription/text()},
      let $nodes := (
        let $query := &quot;select * from /users/composite/adm_tatapa1/examples/ds_inventory/tutorial/purchaseorders&quot;
        for $po in composite:executeQuery($query)//result[purchaseorderid = $inv/purchaseorderid]
        return
        element ns1:PurchaseOrder {
          element ns1:PurchaseOrderID {$po/purchaseorderid/text()},
          element ns1:PONumber {$po/ponumber/text()},
          element ns1:PurchaseOrderDescription {$po/purchaseorderdescription/text()},
          let $nodes := (
            let $query := &quot;select * from /users/composite/adm_tatapa1/examples/ds_inventory/tutorial/suppliers&quot;
            for $supp in composite:executeQuery($query)//result[supplierid = $po/supplierid]
            return
            element ns1:Supplier {
              element ns1:SupplierID {$supp/supplierid/text()},
              element ns1:SupplierName {$supp/suppliername/text()}
            }
          )
          return
          $nodes[1]
        }
      )
      return
      $nodes[1],
      let $nodes := (
        let $inputs := (if (empty($inv/productid/text())) then &quot;NULL&quot; else concat(concat(&quot;&apos;&quot;,$inv/productid/text()), &quot;&apos;&quot;) cast as xs:string)
        let $query := concat( &quot;select * from /users/composite/adm_tatapa1/examples/LookupProduct(&quot;, concat( string-join($inputs,&quot;,&quot;), &quot;)&quot;))
        for $prod in composite:executeQuery($query)//result
        return
        element ns1:Product {
          element ns1:ProductID {$prod/ProductID/text()},
          element ns1:ProductName {$prod/ProductName/text()},
          element ns1:ProductDescription {$prod/ProductDescription/text()}
        }
      )
      return
      $nodes[1]
    }
  }
)
return
$nodes[1]</attribute>
  <attribute name="xqueryModel" type="BYTE_ARRAY">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
AAAh</attribute>
</metadata>